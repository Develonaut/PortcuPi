var request=require("request"),parseString=require("xml2js").parseString;module.exports={getGameList:function(t,e){request("http://thegamesdb.net/api/GetGamesList.php?name="+t,function(t,a,r){var n=null;t||200!=a.statusCode?e("getGameList error"):(parseString(r,function(t,e){n=e.Data.Game}),console.log(n),e(n))})},getPlatformSpecifiedGameList:function(t,e,a){var r="http://thegamesdb.net/api/GetGamesList.php?",n="name="+e,s="&platform="+t,i=r+n+s;request(i,function(t,e,r){var n=null;t||200!=e.statusCode?a("getGameList error"):(parseString(r,function(t,e){n=e.Data.Game}),a(n))})},getPlatformList:function(t){request("http://thegamesdb.net/api/GetPlatformsList.php",function(e,a,r){var n=null;e||200!=a.statusCode?t("getPlatformList Error"):(parseString(r,function(t,e){n=e.Data.Platforms[0].Platform}),t(n))})},getGame:function(t,e){request("http://thegamesdb.net/api/GetGame.php?id="+t,function(t,a,r){var n=null;t||200!=a.statusCode?e("getGame Error"):(parseString(r,function(t,e){n=e.Data.Game}),e(n))})}};